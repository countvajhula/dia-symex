#lang racket

(provide labor-attributions)

(require abe/dia)

(define labor-tree
  '(("symex" . 100)
    (("functional contributions" . 70)
     (("core" . 50)
      (("sid" . 30))
      (("sid" . 30))
      (("sid" . 40)))
     (("language support" . 30)
      (("clojure" . 20)
       (("dcostaras" . 30))
       (("anonimitoraf" . 40))
       (("markgdawson" . 30)))
      (("common lisp" . 10)
       (("doyougnu" . 100)))
      (("non-lisp" . 70)
       (("anonymous" . 5))
       (("tommy" . 10))
       (("simon" . 20))
       (("simon and sid" . 65)
        (("simon" . 50))
        (("sid" . 50)))))
     (("interfaces" . 20)
      (("evil" . 85)
       (("sid" . 75))
       (("tommy" . 3))
       (("tommy" . 2))
       (("jake" . 20)))
      (("visual aids" . 15)
       (("simon" . 70))
       (("sid" . 30)))))
    (("support" . 30)
     (("documentation" . 40)
      (("sid" . 30))
      (("tommy" . 10))
      (("sid" . 60))
      (("markgdawson" . 0)))
     (("bug reports" . 15)
      (("pepperblue" . 40))
      (("markgdawson" . 20))
      (("tarsius" . 20))
      (("markgdawson" . 20)))
     (("operational excellence" . 15)
      (("riscy" . 20))
      (("riscy" . 40))
      (("sid" . 25))
      (("basilconto" . 5))
      (("dcostaras" . 5))
      (("devcarbon" . 5)))
     (("reach out" . 30)
      (("ariana" . 20))
      (("jeff" . 40))
      (("jeff" . 40))))))

(validate-appraisal labor-tree)

(define labor-attributions (make-hash))

(tally labor-tree
       node-weight
       bump
       #:results labor-attributions)
